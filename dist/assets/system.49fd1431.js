import{A as y,a as M,T as b,b as k,d as h,e as A,S as R,C as O}from"./background.4520fc63.js";import{G as U}from"./dat.gui.module.6914edc7.js";import{f as F}from"./flameDemon.c9374d22.js";y.registerPlugin(M);const t={followMouse:!0,shadowX:450,shadowY:150},_=800,x=700,a=new y({width:_,height:x});document.body.appendChild(a.view);const n=a.shadows.container;a.shadows.filter.useShadowCasterAsOverlay=!1;function c(o,v,S){const l=new O;if(v){const r=new h(v);r.parentGroup=a.shadows.casterGroup,l.addChild(r)}if(S){const r=new h(S);r.parentGroup=a.shadows.overlayGroup,l.addChild(r)}const G=new h(o);return l.addChild(G),l}const E=b.from(k),I=new h(E);n.addChild(I);const s=b.from(F);s.baseTexture.scaleMode=A.NEAREST;const m=c(s,s,s);m.position.set(100,100);m.scale.set(3);n.addChild(m);const f=c(s,s,s);f.position.set(500,100);f.scale.set(3);n.addChild(f);const u=c(s,s,s);u.position.set(300,200);u.scale.set(3);n.addChild(u);const e=new R(300,1,5);e.position.set(t.shadowX,t.shadowY);n.addChild(e);function C(){const o=e.shadowMapResultSprite;o.x=0,o.y=500,o.width=800,o.height=200,a.stage.addChild(o)}C();n.interactive=!0;n.on("mousemove",o=>{t.followMouse?e.position.copyFrom(o.data.global):(e.position.x=t.shadowX,e.position.y=t.shadowY)});const g=new U,p=g.addFolder("Demo options");p.open();p.add(t,"followMouse");p.add(t,"shadowX",0,800);p.add(t,"shadowY",0,600);const d=g.addFolder("Shadow properties");d.open();d.add(e,"range",50,1e3);d.add(e,"intensity",0,3);d.add(e,"pointCount",1,50,1).onChange(C);d.add(e,"scatterRange",0,50);d.add(e,"radialResolution",100,1500,1).onChange(C);d.add(e,"depthResolution",.1,3);d.add(e,"fallOffFraction",0,1);d.add(e,"darkenOverlay");const w=g.addFolder("Analyze");w.open();const i={};i["show mask"]=!1;i["remove casters"]=!1;i["remove overlays"]=!1;w.add(i,"show mask").onChange(o=>{o?a.stage.addChild(a.shadows.filter._maskResultSprite):a.stage.removeChild(a.shadows.filter._maskResultSprite)});w.add(i,"remove casters").onChange(o=>{a.shadows.filter._shadowCasterContainer.visible=!o});w.add(i,"remove overlays").onChange(o=>{a.shadows.filter._shadowOverlayContainer.visible=!o});
